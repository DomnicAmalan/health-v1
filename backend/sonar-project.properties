# SonarQube Configuration for Backend (Rust)
sonar.projectKey=health-v1-backend
sonar.projectName=Health V1 Backend
sonar.projectVersion=1.0.0

# Source code
sonar.sources=shared/src,api-service/src,admin-service/src,authz-core/src
# Test directories (only include directories that exist)
sonar.tests=shared/tests,admin-service/tests,authz-core/tests
sonar.sourceEncoding=UTF-8

# Exclusions - exclude test directories from sources
sonar.exclusions=**/target/**,**/node_modules/**,**/*.rs.bak,**/tests/**

# Test exclusions - exclude source directories from tests
sonar.test.exclusions=**/target/**,**/src/**

# Language
sonar.language=rust

# Coverage reports (if using grcov or tarpaulin)
# sonar.rust.coverage.reportPaths=coverage/lcov.info

# SonarQube server URL (from environment)
# IMPORTANT: Use full URL with http:// for self-hosted (not SonarCloud)
sonar.host.url=${SONAR_HOST_URL:-http://localhost:9000}

# Authentication token (from environment)
# Note: sonar.login is deprecated, use sonar.token instead
sonar.token=${SONAR_TOKEN:-}

# Organization (only required for SonarCloud, not self-hosted)
# For self-hosted SonarQube, leave this commented out
# sonar.organization=${SONAR_ORGANIZATION:-}

